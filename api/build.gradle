ext.deploySvrRole = 'svr_api'
ext.moduleName = 'api'

ext.executable = "wx_$moduleName"
ext.startScript = "wx_$moduleName"+"_svr"

jar {
//    archiveName = "ats-$moduleName-$mainVersion.$extension"
}

startScripts.applicationName = executable
//startScripts.defaultJvmOpts.add("-Dserver.port=$httpPort")

dependencies {
    compile project(':dao')

}

mainClassName = 'com.atsoa.AtsApiServer'

manifest {
    attributes 'Main-Class': 'com.atsoa.AtsApiServer'
}

if (project.hasProperty("jmx_host")) {
    startScripts.defaultJvmOpts.add("-Dcom.sun.management.jmxremote.port=$jmx_api_port")
}